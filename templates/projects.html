<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Device Portfolio</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-blue': '#1e3a8a', // Blue 800/900
                        'accent-light': '#bfdbfe', // Blue 200
                    },
                }
            }
        }
    </script>

    <style>
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            inset: 0;
            background: rgba(0,0,0,0.9);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            max-width: 95%;
            max-height: 95vh; /* Use viewport height for better fit */
            width: auto;
            height: auto;
            border-radius: 12px;
            object-fit: contain; /* Ensure image fits well */
        }
    </style>
</head>

<body class="bg-gray-50 font-sans">

<!-- ================= HEADER ================= -->
<header class="bg-primary-blue text-white p-4 shadow-2xl flex justify-between items-center sticky top-0 z-40">
    <!-- Left: Home Button -->
    <a href="{{ url_for('index') }}" 
   class="flex items-center space-x-1 text-base font-semibold text-accent-light hover:text-white transition duration-200 p-2 -ml-2 rounded-lg hover:bg-white/10 flex-shrink-0">
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3
                m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
    </svg>
    <span class="hidden sm:inline">Home</span>
</a>


    <!-- Center: Title -->
    <h1 class="text-xl sm:text-2xl font-extrabold flex-grow text-center mx-4">Medical Device & IoT Projects</h1>

    <!-- Right: Dropdown Navigation (Improved Semantics/A11y) -->
    <nav class="relative flex-shrink-0">
        <button id="dropdown-toggle" 
                class="bg-white text-primary-blue px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg font-semibold shadow-md transition duration-200 hover:ring-2 hover:ring-white"
                aria-expanded="false" 
                aria-haspopup="true">
            Select Project â–¾
        </button>

        <ul id="dropdown-menu" class="absolute right-0 mt-2 bg-white shadow-xl rounded-lg hidden w-56 text-gray-800 z-50 overflow-hidden ring-1 ring-gray-200">
            <!-- Note: href="#" and return false for JS navigation within the single file -->
            <li><a href="#" onclick="showProject('p1'); return false;" class="block px-4 py-2 hover:bg-blue-50 transition duration-150 text-primary-blue font-bold">P1: 3 Axis RoboArm</a></li>
            <li><a href="#" onclick="showProject('p2'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P2: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p3'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P3: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p4'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P4: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p5'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P5: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p6'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P6: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p7'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P7: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p8'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P8: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p9'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P9: Coming Soon</a></li>
            <li><a href="#" onclick="showProject('p10'); return false;" class="block px-4 py-2 hover:bg-gray-100 transition duration-150">P10: Coming Soon</a></li>
        </ul>
    </nav>
</header>

<div class="p-4 sm:p-6 max-w-7xl mx-auto">

<!-- ================= PROJECT 1 (VISIBLE DEFAULT) ================= -->
<section id="project-p1" class="project-section">

    <h2 class="text-3xl font-bold text-primary-blue mb-6 border-b-2 pb-2">P1: 3 Axis RoboArm</h2>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <!-- LEFT CONTENT -->
        <article class="lg:col-span-2 bg-white p-6 rounded-xl shadow-xl">

            <p class="text-gray-700 text-lg leading-relaxed mb-6">
    The 3-axis robotic arm assists in precise sample handling and automated reagent dispensing, minimizing human error. It supports surgical simulations for training and preoperative planning. Integration with IoT enables remote monitoring and control in clinical environments. The system improves efficiency, repeatability, and safety in routine medical tasks. Its precise motion control and automation enhance the overall workflow of laboratory and clinical procedures.
</p>


            <h3 class="text-2xl font-bold text-primary-blue mb-4 border-t pt-4">Project Visuals</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                <div>
    <h4 class="text-xl font-semibold mb-2 text-gray-800">Prototype Image</h4>
    <img src="{{ url_for('static', filename='3axisrarm.jpeg') }}"
         alt="Close-up image of the 3-axis robotic arm prototype showing 4 servo motors (SG90 and MG996R) connected to an ESP32 microcontroller with wiring and mechanical joints."
         class="rounded-lg cursor-pointer shadow-lg border-4 border-primary-blue/20 transition duration-300 hover:scale-[1.02] transform"
         data-full-src="{{ url_for('static', filename='3axisrarm_full.jpeg') }}"
         onclick="openModal(this.dataset.fullSrc, 'Prototype Image: 3-Axis Robotic Arm with 4 Servos and ESP32')">
</div>


    <div>
      <h4 class="text-xl font-semibold mb-2 text-gray-800">Circuit Diagram</h4>
      <img src="{{ url_for('static', filename='CirRobo.jpeg') }}"
         alt="Circuit diagram showing ESP32 microcontroller connections to 4 servo motors (SG90 and MG996R) for a 3-axis robotic arm, including power, GPIO pins, and control lines."
         class="rounded-lg cursor-pointer shadow-lg border-4 border-primary-blue/20 transition duration-300 hover:scale-[1.02] transform"
         data-full-src="{{ url_for('static', filename='CirRoboArm_Full.jpeg') }}"
         onclick="openModal(this.dataset.fullSrc, 'Circuit Diagram: 3-Axis Robotic Arm with 4 Servos and ESP32')">
   </div>


            </div>
        </article>

        <!-- RIGHT CONTENT -->
        <aside class="lg:col-span-1 space-y-6">

            <div class="bg-blue-50 p-6 rounded-xl shadow-inner border-l-4 border-primary-blue">
                <h3 class="text-2xl font-extrabold text-primary-blue mb-3">Key Technologies</h3>
                <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
                    
    <li>ESP32</li>
    <li>SG90 Servo (x3)</li>
    <li>MG996R Servo (x1)</li>
    <li>Breadboard</li>
    <li>Jumper Wires</li>
    <li>External 5V Power Supply</li>
    <li>Blink IoT App</li>


                </ul>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
    <h3 class="text-2xl font-extrabold text-primary-blue mb-3">Technical Video</h3>
    <div class="youtube-video-container">
        <iframe 
            src="https://www.youtube.com/embed/c6mrcNEFBoA" 
            title="3-Axis Robotic Arm Demo Video" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            class="rounded-lg shadow-xl w-full border-2 border-gray-200">
        </iframe>
    </div>
    <p class="text-center text-xs text-gray-500 mt-2">Click the video to watch a technical demonstration.</p>
</div>


        </aside>
    </div>
</section>

<!-- ================= PLACEHOLDER PROJECTS (Kept simple) ================= -->
<section id="project-p2" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P2: AI-Powered ECG Analysis (Coming Soon)</h2>
    <p class="text-gray-600 mt-4">Details on machine learning algorithms applied to cardiovascular data.</p>
</section>

<section id="project-p3" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P3: Remote Patient Monitoring Platform (Coming Soon)</h2>
</section>

<section id="project-p4" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P4: Surgical Robotics Subsystem (Coming Soon)</h2>
</section>

<section id="project-p5" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P5: Drug Delivery Pump Control Logic (Coming Soon)</h2>
</section>

<section id="project-p6" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P6: Smart Wearable for Rehabilitation (Coming Soon)</h2>
</section>

<section id="project-p7" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P7: Data Security and HIPAA Compliance (Coming Soon)</h2>
</section>

<section id="project-p8" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P8: Low-Power Biometric Sensor Interface (Coming Soon)</h2>
</section>

<section id="project-p9" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P9: Embedded Firmware for Calibration (Coming Soon)</h2>
</section>

<section id="project-p10" class="project-section hidden p-6 bg-white rounded-xl shadow-lg mt-6">
    <h2 class="text-3xl font-bold text-blue-900">P10: Real-Time Operating System (RTOS) Implementation (Coming Soon)</h2>
</section>

</div>

<!-- ================= FOOTER ================= -->
<footer class="bg-primary-blue text-white text-center p-4 mt-10 shadow-inner">
    &copy; 2025 Medical Devices Portfolio - Designed with Tailwind CSS
</footer>

<!-- ================= MODAL FOR IMAGES (Improved A11y) ================= -->
<div id="image-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-caption" onclick="closeModal(event)">
    <!-- Changed span to a semantic button with ARIA label -->
    <button class="absolute top-5 right-5 sm:right-8 text-white text-5xl cursor-pointer hover:text-red-400 transition duration-200 focus:outline-none focus:ring-4 ring-white rounded-full" 
            aria-label="Close image viewer" 
            onclick="closeModal(event)">&times;</button>
    
    <img id="modal-image" class="modal-content shadow-2xl" alt="Image zoomed in from the project portfolio.">
    
    <div id="modal-caption" class="text-white text-xl mt-4 max-w-4xl text-center px-4"></div>
</div>

<!-- ================= SCRIPT ================= -->
<script>
    /* Dropdown Logic */
    const dropdownToggle = document.getElementById("dropdown-toggle");
    const dropdownMenu = document.getElementById("dropdown-menu");

    dropdownToggle.onclick = () => {
        const isHidden = dropdownMenu.classList.toggle("hidden");
        // Toggle ARIA expanded state
        dropdownToggle.setAttribute("aria-expanded", isHidden ? "false" : "true");
    };

    document.addEventListener("click", (e) => {
        if (!dropdownToggle.contains(e.target) && !dropdownMenu.contains(e.target)) {
            dropdownMenu.classList.add("hidden");
            dropdownToggle.setAttribute("aria-expanded", "false");
        }
    });

    /* Project Section Switching */
    function showProject(id) {
        document.querySelectorAll(".project-section")
                    .forEach(sec => sec.classList.add("hidden"));
        
        const newSection = document.getElementById("project-" + id);
        newSection.classList.remove("hidden");
        
        // Optional: Scroll to the top of the section for better navigation feel
        newSection.scrollIntoView({ behavior: 'smooth' });

        // Close dropdown after selection
        dropdownMenu.classList.add("hidden");
        dropdownToggle.setAttribute("aria-expanded", "false");
    }

    /* Image Modal Functions */
    const modal = document.getElementById("image-modal");
    const modalImg = document.getElementById("modal-image");
    const modalCaption = document.getElementById("modal-caption");

    function openModal(src, caption) {
        modal.style.display = "flex";
        modalImg.src = src;
        modalCaption.textContent = caption;
        modalImg.alt = caption; // Set alt text from caption
        // Focus the close button for better keyboard navigation
        document.querySelector('#image-modal button').focus(); 
    }

    function closeModal(e) {
        // Close if clicking the overlay or the explicit close button
        if (e.target === modal || e.target.tagName === "BUTTON") {
            modal.style.display = "none";
            modalImg.src = "";
            // Return focus to the element that opened the modal (complex to implement perfectly, so skipping for brevity, but good practice)
        }
    }

    /* Keyboard control for modal (ESC key) */
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.style.display === 'flex') {
            closeModal({ target: modal });
        }
    });

    /* Fullscreen Video Playback */
    function playFullscreenVideo(v) {
        // Attempt to request fullscreen on play
        if (v.requestFullscreen) {
            v.requestFullscreen().catch(err => {
                console.error(`Error attempting to enable full-screen mode: ${err.message}`);
                v.play(); // Play even if fullscreen fails
            });
        }
        v.play();
    }
</script>

</body>
</html>